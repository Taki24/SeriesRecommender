(this.webpackJsonpmovierecommender=this.webpackJsonpmovierecommender||[]).push([[0],{17:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),s=n(11),r=n.n(s),c=(n(17),n(2)),o=n(3),l=n(5),u=n(4),h=n(12),d=n(8),j=n(6),f=n(0),g=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"title",children:this.props.show.getTitle}),Object(f.jsx)("img",{src:this.props.show.getImage,alt:"",onClick:function(){window.open(t.props.show.getLink,"_blank")}}),Object(f.jsx)("div",{className:"year",children:this.props.show.getYear}),Object(f.jsxs)("div",{className:"rating",children:[this.props.show.getRating,Object(f.jsx)("img",{src:"icons/star.png",className:"rating-image",alt:""})]})]})}}]),n}(a.a.Component),b=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={key:0},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t,e=this,n=document.getElementsByClassName("like-button"),i=Object(j.a)(n);try{var a=function(){var n=t.value;n.addEventListener("click",(function(){n.classList.add("click-animation"),"like"===n.id?e.props.action(e.props.show):e.props.action(""),19!==e.props.id&&e.setState({key:e.props.id})}))};for(i.s();!(t=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"display-show",children:[Object(f.jsx)("img",{className:"like-button",id:"like",src:"icons/like.jpg",alt:"like"}),Object(f.jsx)("div",{children:Object(f.jsx)(g,{show:this.props.show})},this.state.key),Object(f.jsx)("img",{className:"like-button",id:"dislike",src:"icons/dislike.png",alt:"dislike"})]})}}]),n}(a.a.Component),v=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={list:[],loading:!0},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=new p(this.props.datas,this.props.list).makeOffer();setTimeout((function(){t.setState({list:e,loading:!1})}),500)}},{key:"render",value:function(){var t,e=[],n=Object(j.a)(this.state.list);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(Object(f.jsx)(g,{show:this.props.datas[i-1]},i))}}catch(a){n.e(a)}finally{n.f()}return this.state.loading?Object(f.jsx)("div",{children:"Loading..."}):this.props.list.length<5?Object(f.jsx)("div",{className:"error-message",children:"Please like at least 5 Tv shows :)"}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"list-title",children:"Our recommendation for you:"}),Object(f.jsx)("div",{className:"cards-container",children:e})]})}}]),n}(a.a.Component),p=function(){function t(e,n){Object(c.a)(this,t),this.datas=e,this.likedShows=n,this.oneLimit=Math.round(15/this.likedShows.length)}return Object(o.a)(t,[{key:"makeOffer",value:function(){var t,e=[],n=Object(j.a)(this.likedShows);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,s=this.searchForSimiliars(a),r=Object(j.a)(s);try{for(r.s();!(i=r.n()).done;){var c=i.value;e.push(c)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}return Array.from(new Set(e))}},{key:"searchForSimiliars",value:function(t){var e,n=[],i=[],a=[],s=[],r=Object(j.a)(this.datas);try{for(r.s();!(e=r.n()).done;){var c=e.value;this.findCategory(t,c)&&n.push(c),this.findYear(t,c,10)&&i.push(c),this.findRating(t,c,2)&&a.push(c)}}catch(d){r.e(d)}finally{r.f()}for(var o=-1,l=0,u=a;l<u.length;l++){var h=u[l];o<this.oneLimit&&i.includes(h)&&n.includes(h)&&!this.likedShows.includes(h)&&(s.push(h),o++)}return s.map((function(t){return t.getId}))}},{key:"findCategory",value:function(t,e){var n,i=!1,a=Object(j.a)(t.getGenres);try{for(a.s();!(n=a.n()).done;){var s=n.value;e.getGenres.includes(s)&&(i=!0)}}catch(r){a.e(r)}finally{a.f()}return!!i}},{key:"findYear",value:function(t,e,n){return Math.abs(e.getYear-t.getYear)<=n}},{key:"findRating",value:function(t,e,n){return Math.abs(e.getRating-t.getRating)<=n}}]),t}(),O=v,k=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={i:0,ended:!1,likedShows:[]},t.handleClick=t.handleClick.bind(Object(d.a)(t)),t}return Object(o.a)(n,[{key:"handleClick",value:function(t){""!==t?this.setState((function(e){return{i:e.i+1,likedShows:[].concat(Object(h.a)(e.likedShows),[t])}})):this.setState((function(t){return{i:t.i+1}}))}},{key:"rendering",value:function(){return 19===this.state.i?Object(f.jsx)(O,{list:this.state.likedShows,datas:this.props.datas}):Object(f.jsx)(b,{id:this.state.i,show:this.props.data[this.state.i],action:this.handleClick})}},{key:"render",value:function(){return this.rendering()}}]),n}(a.a.Component),m=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={datas:[],initialArr:[],loading:!0},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=[],n=[];fetch("datas.json").then((function(t){return t.json()})).then((function(i){e=i.map((function(t){return new y(t.Position,t.Title,t["IMDb Rating"],t.Genres,t.Year,t.Image,t.URL)}));for(var a=0,s=[89,45,16,6,2,23,4,7,32,17,44,1,12,47,5,19,26,15,21];a<s.length;a++){var r=s[a];n.push(e[r-1])}t.setState({datas:e,initialArr:n,loading:!1})}))}},{key:"render",value:function(){return this.state.loading?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)("div",{children:Object(f.jsx)(k,{data:this.state.initialArr,datas:this.state.datas})})}}]),n}(a.a.Component),y=function(){function t(e,n,i,a,s,r,o){Object(c.a)(this,t),this.id=e,this.title=n,this.rating=i,this.year=s,this.genres=a.split(", "),this.img=r,this.link=o}return Object(o.a)(t,[{key:"getId",get:function(){return this.id}},{key:"getTitle",get:function(){return this.title}},{key:"getRating",get:function(){return this.rating}},{key:"getGenres",get:function(){return this.genres}},{key:"getYear",get:function(){return this.year}},{key:"getImage",get:function(){return this.img}},{key:"getLink",get:function(){return this.link}}]),t}(),w=m,x=(n(19),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(w,{})})}}]),n}(a.a.Component)),S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),i(t),a(t),s(t),r(t)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),S()}},[[20,1,2]]]);
//# sourceMappingURL=main.918e42a1.chunk.js.map